# Database URL format for SQLAlchemy with pgvector/psycopg driver
DATABASE_URL=postgresql+psycopg://admin:password@localhost:5432/app

# ---- Embedding Provider and Model ----
# EMBEDDING_PROVIDER: huggingface | ollama | openai
EMBEDDING_PROVIDER=huggingface

# For HuggingFace (must match DB VECTOR_DIM):
EMBEDDING_MODEL_NAME=sentence-transformers/all-mpnet-base-v2
# For 384-dim, use:
#EMBEDDING_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2

# For Ollama embeddings (requires locally running Ollama backend):
# OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# For OpenAI embeddings (requires key):
# OPENAI_API_KEY=sk-...
# OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ---- Text chunking ----
CHUNK_SIZE=800
CHUNK_OVERLAP=150

# ---- Semantic deduplication ----
DEDUPE_ENABLED=1
DEDUPE_THRESHOLD=0.98

# ---- Vector and Table Settings ----
# PostgreSQL schema & table
RAG_SCHEMA=rag
TABLE_NAME=chunks
COLLECTION_NAME=chunks

# VECTOR_DIM: must equal your table's vector column dim (e.g. 768 or 384)
VECTOR_DIM=768

# Optionally auto-create schema/table/index if missing (set to 1 to enable, 0 to disable)
AUTO_CREATE=1

# ---- Service ----
PORT=8081
